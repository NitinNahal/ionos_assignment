{% load static %}
{% block content %}
<!DOCTYPE html>
<html lang="en">

<head>
  <title>Automation</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</head>

<body>

  <div class="container">
    <h2>Tasks Menu</h2>
    <ul class="nav nav-pills">
      <li class="active"><a data-toggle="pill" href="#task_2">Cuboid</a></li>
      <li><a data-toggle="pill" href="#task_3">Automation</a></li>
    </ul>

    <div class="tab-content">
      <div id="task_2" class="tab-pane fade in active">
        <h3>Cuboid</h3>
        <p>
        <form role="form">
          <div class="form-group">
            <div class="row">
              <div class="col-sm-3">
                <label for="edge_a">Length:</label>
                <input class="form-control" id="edge_a" placeholder="Enter number">
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-sm-3">
                <label for="edge_b">Breadth:</label>
                <input class="form-control" id="edge_b" placeholder="Enter number">
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row">
              <div class="col-sm-3">
                <label for="edge_c">Height:</label>
                <input class="form-control" id="edge_c" placeholder="Enter number">
              </div>
            </div>
          </div>
          <button type="button" class="btn btn-primary" id="calculate">Calculate</button>
          <button type="button" class="btn btn-primary" id="calculations">Display last 30 results</button>
          <hr>
          <div class="well well-sm">
            <p id="results">Once you click, your results will come here ..</p>
          </div>
        </form>
        </p>
      </div>
      <div id="task_3" class="tab-pane fade">
        <h3>Automation - Create & Execute Cloud based infra</h3>
        <p></p>
      </div>
    </div>
  </div>

</body>

</html>
{% endblock %}
{% block jquery %}
<script>
  $('#calculations').on('click', function (e) {

    //preDate = $("#datetimepicker1").find("input").val();
    //postDate = $("#datetimepicker2").find("input").val();

    $.post("{% url 'automation:upData' 'calculations' %}", { csrfmiddlewaretoken: "{{ csrf_token }}" }, function (data) {
      //alert(data);
      //document.getElementById('results').value = data;
      $('#results').html(data);
    });
  });

  $('#calculate').on('click', function (e) {

    edge_a = document.getElementById("edge_a").value;
    edge_b = document.getElementById("edge_b").value;
    edge_c = document.getElementById("edge_c").value;

    if (edge_a == "" ||  edge_b == "" || edge_c == "")
    {
      alert("Edges cannot be empty !");
      return false;
    }

    if ( isNaN(edge_a) ||  isNaN(edge_b) || isNaN(edge_c))
    {
      alert("Please check your inputs");
      return false;
    }

    $.post("{% url 'automation:upData' 'calculate' %}", { csrfmiddlewaretoken: "{{ csrf_token }}", edge_a : edge_a, edge_b : edge_b, edge_c : edge_c }, function (data) {
      $('#results').html(data);
    });
  });

</script>
{% endblock %}